import socket
import ipaddress
import concurrent.futures

def scan_port(ip,port):
   
    try:
        with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
            s.settimeout(1) #Set socket timeout to 1 second
            result = s.connect_ex((ip,port))
            if result == 0:
                print(f"Port -> {port} is open on {ip}")
            else:
                print(f"{t} times The Openning port was not found in your Network :'((\n")
                t +=1
    except Exception as e:
        pass
def scan_network(ip_range, port):
   
    with concurrent.futures.ThreadPoolExecutor(max_workers=100) as executor:
        ip_network = ipaddress.ip_network(ip_range)
        futures = [executor.submit(scan_port, str(ip), port) for ip in ip_network.hosts()]
        
        
if __name__ == '__main__':
    ip_range = input("Enter IP range to scan (eg., 192.168.1.0/24): ")
    t = 1
    port = 80 #Port to scan (HTTP)
    
    scan_network(ip_range,port)